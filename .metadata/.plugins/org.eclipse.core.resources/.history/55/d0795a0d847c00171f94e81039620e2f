package br.com.vagas.emprego;

import java.io.IOException;
import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

import br.com.vagas.emprego.service.Servico;
import br.com.vagas.emprego.vo.CampanhaVO;

public class Application {
	
	public static void main(String[] args) {
		String json = "";
		try {
			json = new Servico().doGet("http://192.168.15.16:8080/campanhaServer/CampanhasDAO/consultarCampanhas");
			
			Gson gson = new Gson();
			Type listType = new TypeToken<ArrayList<CampanhaVO>>(){}.getType();
			List<CampanhaVO> lista =  gson.fromJson(json, listType);
			System.out.println(lista.get(0).getDescricao());
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
}
